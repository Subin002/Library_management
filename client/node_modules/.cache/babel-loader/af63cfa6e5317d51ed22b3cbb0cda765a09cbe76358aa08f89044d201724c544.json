{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { useNavigate, useParams } from 'react-router-dom';\n\n// function AdBookUpdate() {\n//   const { id } = useParams();\n//   const navigate = useNavigate();\n\n//   const [bookid, setBookid] = useState('');\n//   const [name, setName] = useState('');\n//   const [rating, setRating] = useState('');\n//   const [description, setDescription] = useState('');\n//   const [price, setPrice] = useState('');\n//   const [file, setFile] = useState(null);\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const response = await axios.get(`http://localhost:1500/newupdatebook/${id}`);\n//         const newBookData = response.data.book; \n//         setBookid(newBookData.id); // Assuming id is the correct property name\n//         setName(newBookData.name);\n//         setRating(newBookData.rating);\n//         setPrice(newBookData.price)\n//         setDescription(newBookData.description);\n//       } catch (error) {\n//         console.error('Error fetching book data:', error);\n//       }\n//     };\n\n//     fetchData();\n//   }, [id]);\n\n//   const handleUpdate = async (e) => {\n//     e.preventDefault();\n//     try {\n//       const formData = new FormData();\n//       formData.append('image', file);\n//       formData.append('id', id);\n//       formData.append('name', name);\n//       formData.append('description', description);\n//       formData.append('rating', rating);\n//       formData.append('price', price);\n\n//       const config = {\n//         headers: {\n//           'Content-Type': 'multipart/form-data'\n//         }\n//       };\n\n//       await axios.put(`http://localhost:1500/updatenewbook/${id}`, formData, config);\n//       navigate('/newbookdata');\n//     } catch (error) {\n//       console.error('Error updating book:', error);\n//     }\n//   };\n\n//   const handleCancel = (e) => {\n//     e.preventDefault();\n//     navigate('/newbookdata');\n//   };\n\n//   const handleRatingChange = (e) => {\n//     const value = Math.min(Math.max(0, parseInt(e.target.value)), 5);\n//     setRating(value);\n//   };\n\n//   return (\n//     <div className='full05'>\n//       <div className='container05'>\n//         <h2 className='h205'>BOOK UPDATE FORM</h2>\n//         <form encType=\"multipart/form-data\" onSubmit={handleUpdate}>\n\n//         <div className='box05'>\n//                         <label htmlFor=\"image\">Image:</label>\n//                         <input\n//                             type=\"file\"\n//                             id=\"image\"\n//                             name=\"image\"\n//                             accept=\"image/*\"\n//                             onChange={(e) => setFile(e.target.files[0])}\n//                         />\n//                     </div>\n\n//                     <div className='box05'>\n//                         <label>Book ID:</label>\n//                         <input\n//                             name='id'\n//                             type='text'\n//                             className='form-control rounded-0'\n//                             onChange={(e) => setBookid(e.target.value)}\n//                             value={bookid}\n//                         />\n//                     </div>\n\n//                     <div className='box05'>\n//                         <label>Book Name:</label>\n//                         <input\n//                             name='name'\n//                             className='form-control rounded-0'\n//                             onChange={(e) => setName(e.target.value)}\n//                             value={name}\n//                         />\n//                     </div>\n\n//                     <div className='box05'>\n//                         <label>Description:</label>\n//                         <input\n//                             name='description'\n//                             className='form-control rounded-0 two-line-input'\n//                             onChange={(e) => setDescription(e.target.value)}\n//                             value={description}\n//                         />\n//                     </div>\n\n//                     <div className='box05'>\n//                         <label>Rating:</label>\n//                         <input\n//                             name='rating'\n//                             type='number'\n//                             className='form-control rounded-0'\n//                             onChange={handleRatingChange}\n//                             value={rating}\n//                             min=\"0\"\n//                             max=\"5\"\n//                         />\n//                     </div>\n\n//                     <div className='box05'>\n//                         <label>Price:</label>\n//                         <input\n//                             name='price'\n//                             type='text'\n//                             className='form-control rounded-0'\n//                             onChange={(e) => setPrice(e.target.value)}\n//                             value={price}\n//                         />\n//                     </div>\n\n//           <button type='submit' className='submit05'>Update</button>\n//           <button type='button' className='submit05' onClick={handleCancel}>Cancel</button>\n//         </form>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdBookUpdate;","map":{"version":3,"names":[],"sources":["C:/Users/SUBIN DAS K/Projects/Library management/client/src/components/admin/newbook/AdBookUpdate.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import axios from 'axios';\r\n// import { useNavigate, useParams } from 'react-router-dom';\r\n\r\n// function AdBookUpdate() {\r\n//   const { id } = useParams();\r\n//   const navigate = useNavigate();\r\n\r\n//   const [bookid, setBookid] = useState('');\r\n//   const [name, setName] = useState('');\r\n//   const [rating, setRating] = useState('');\r\n//   const [description, setDescription] = useState('');\r\n//   const [price, setPrice] = useState('');\r\n//   const [file, setFile] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         const response = await axios.get(`http://localhost:1500/newupdatebook/${id}`);\r\n//         const newBookData = response.data.book; \r\n//         setBookid(newBookData.id); // Assuming id is the correct property name\r\n//         setName(newBookData.name);\r\n//         setRating(newBookData.rating);\r\n//         setPrice(newBookData.price)\r\n//         setDescription(newBookData.description);\r\n//       } catch (error) {\r\n//         console.error('Error fetching book data:', error);\r\n//       }\r\n//     };\r\n\r\n//     fetchData();\r\n//   }, [id]);\r\n\r\n//   const handleUpdate = async (e) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       const formData = new FormData();\r\n//       formData.append('image', file);\r\n//       formData.append('id', id);\r\n//       formData.append('name', name);\r\n//       formData.append('description', description);\r\n//       formData.append('rating', rating);\r\n//       formData.append('price', price);\r\n\r\n//       const config = {\r\n//         headers: {\r\n//           'Content-Type': 'multipart/form-data'\r\n//         }\r\n//       };\r\n\r\n//       await axios.put(`http://localhost:1500/updatenewbook/${id}`, formData, config);\r\n//       navigate('/newbookdata');\r\n//     } catch (error) {\r\n//       console.error('Error updating book:', error);\r\n//     }\r\n//   };\r\n\r\n//   const handleCancel = (e) => {\r\n//     e.preventDefault();\r\n//     navigate('/newbookdata');\r\n//   };\r\n\r\n//   const handleRatingChange = (e) => {\r\n//     const value = Math.min(Math.max(0, parseInt(e.target.value)), 5);\r\n//     setRating(value);\r\n//   };\r\n\r\n//   return (\r\n//     <div className='full05'>\r\n//       <div className='container05'>\r\n//         <h2 className='h205'>BOOK UPDATE FORM</h2>\r\n//         <form encType=\"multipart/form-data\" onSubmit={handleUpdate}>\r\n       \r\n//         <div className='box05'>\r\n//                         <label htmlFor=\"image\">Image:</label>\r\n//                         <input\r\n//                             type=\"file\"\r\n//                             id=\"image\"\r\n//                             name=\"image\"\r\n//                             accept=\"image/*\"\r\n//                             onChange={(e) => setFile(e.target.files[0])}\r\n//                         />\r\n//                     </div>\r\n\r\n//                     <div className='box05'>\r\n//                         <label>Book ID:</label>\r\n//                         <input\r\n//                             name='id'\r\n//                             type='text'\r\n//                             className='form-control rounded-0'\r\n//                             onChange={(e) => setBookid(e.target.value)}\r\n//                             value={bookid}\r\n//                         />\r\n//                     </div>\r\n\r\n\r\n\r\n//                     <div className='box05'>\r\n//                         <label>Book Name:</label>\r\n//                         <input\r\n//                             name='name'\r\n//                             className='form-control rounded-0'\r\n//                             onChange={(e) => setName(e.target.value)}\r\n//                             value={name}\r\n//                         />\r\n//                     </div>\r\n\r\n//                     <div className='box05'>\r\n//                         <label>Description:</label>\r\n//                         <input\r\n//                             name='description'\r\n//                             className='form-control rounded-0 two-line-input'\r\n//                             onChange={(e) => setDescription(e.target.value)}\r\n//                             value={description}\r\n//                         />\r\n//                     </div>\r\n\r\n//                     <div className='box05'>\r\n//                         <label>Rating:</label>\r\n//                         <input\r\n//                             name='rating'\r\n//                             type='number'\r\n//                             className='form-control rounded-0'\r\n//                             onChange={handleRatingChange}\r\n//                             value={rating}\r\n//                             min=\"0\"\r\n//                             max=\"5\"\r\n//                         />\r\n//                     </div>\r\n\r\n//                     <div className='box05'>\r\n//                         <label>Price:</label>\r\n//                         <input\r\n//                             name='price'\r\n//                             type='text'\r\n//                             className='form-control rounded-0'\r\n//                             onChange={(e) => setPrice(e.target.value)}\r\n//                             value={price}\r\n//                         />\r\n//                     </div>\r\n\r\n//           <button type='submit' className='submit05'>Update</button>\r\n//           <button type='button' className='submit05' onClick={handleCancel}>Cancel</button>\r\n//         </form>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default AdBookUpdate;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}