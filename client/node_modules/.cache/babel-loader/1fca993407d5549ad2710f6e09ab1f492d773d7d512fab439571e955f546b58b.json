{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  try {\n    // Basic validation\n    if (!name || !id || !description || !rating || !price || !file) {\n      console.error('Please fill in all fields');\n      return;\n    }\n\n    // Create FormData object\n    const formData = new FormData();\n    formData.append('name', name);\n    formData.append('id', id);\n    formData.append('description', description);\n    formData.append('rating', rating);\n    formData.append('price', price);\n    formData.append('image', file);\n\n    // Send POST request with FormData\n    const response = await axios.post('http://localhost:1500/postnewbook', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    console.log('New book created:', response.data);\n\n    // Clear form fields after successful submission\n    setTimeout(() => {\n      setName('');\n      setDescription('');\n      setId('');\n      setRating('');\n      setPrice('');\n      setFile(null); // Clear the file state\n    }, 100); // Adjust the delay time as needed\n  } catch (error) {\n    console.error('Error creating new book:', error);\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","name","id","description","rating","price","file","console","error","formData","FormData","append","response","axios","post","headers","log","data","setTimeout","setName","setDescription","setId","setRating","setPrice","setFile"],"sources":["C:/Users/SUBIN DAS K/Projects/Library management/client/src/components/admin/newbook/AdBookform.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n        // Basic validation\r\n        if (!name || !id || !description || !rating || !price || !file) {\r\n            console.error('Please fill in all fields');\r\n            return;\r\n        }\r\n\r\n        // Create FormData object\r\n        const formData = new FormData();\r\n        formData.append('name', name);\r\n        formData.append('id', id);\r\n        formData.append('description', description);\r\n        formData.append('rating', rating);\r\n        formData.append('price', price);\r\n        formData.append('image', file);\r\n\r\n        // Send POST request with FormData\r\n        const response = await axios.post('http://localhost:1500/postnewbook', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n\r\n        console.log('New book created:', response.data);\r\n\r\n        // Clear form fields after successful submission\r\n        setTimeout(() => {\r\n            setName('');\r\n            setDescription('');\r\n            setId('');\r\n            setRating('');\r\n            setPrice('');\r\n            setFile(null); // Clear the file state\r\n        }, 100); // Adjust the delay time as needed\r\n\r\n    } catch (error) {\r\n        console.error('Error creating new book:', error);\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,IAAI;IACA;IACA,IAAI,CAACC,IAAI,IAAI,CAACC,EAAE,IAAI,CAACC,WAAW,IAAI,CAACC,MAAM,IAAI,CAACC,KAAK,IAAI,CAACC,IAAI,EAAE;MAC5DC,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAC;MAC1C;IACJ;;IAEA;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEV,IAAI,CAAC;IAC7BQ,QAAQ,CAACE,MAAM,CAAC,IAAI,EAAET,EAAE,CAAC;IACzBO,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAER,WAAW,CAAC;IAC3CM,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEP,MAAM,CAAC;IACjCK,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEN,KAAK,CAAC;IAC/BI,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,IAAI,CAAC;;IAE9B;IACA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,mCAAmC,EAAEL,QAAQ,EAAE;MAC7EM,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEFR,OAAO,CAACS,GAAG,CAAC,mBAAmB,EAAEJ,QAAQ,CAACK,IAAI,CAAC;;IAE/C;IACAC,UAAU,CAAC,MAAM;MACbC,OAAO,CAAC,EAAE,CAAC;MACXC,cAAc,CAAC,EAAE,CAAC;MAClBC,KAAK,CAAC,EAAE,CAAC;MACTC,SAAS,CAAC,EAAE,CAAC;MACbC,QAAQ,CAAC,EAAE,CAAC;MACZC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;IACnB,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EAEb,CAAC,CAAC,OAAOhB,KAAK,EAAE;IACZD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;EACpD;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}